<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MacaroniOS: include/pcb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="penguin_ascii.png"/></td>
  <td id="projectalign">
   <div id="projectname">MacaroniOS<span id="projectnumber">&#160;Version: R2</span>
   </div>
   <div id="projectbrief">A freestanding C environment, dubbed Macaroni OS, developed in a group project for Operating System Structures (CS450) at WVU.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pcb.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Process Control Block queue and stack functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pcb.h:</div>
<div class="dyncontent">
<div class="center"><img src="pcb_8h__incl.png" border="0" usemap="#ainclude_2pcb_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="pcb_8h__dep__incl.png" border="0" usemap="#ainclude_2pcb_8hdep" alt=""/></div>
</div>
</div>
<p><a href="pcb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcb.html">pcb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcb__queue.html">pcb_queue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a544623ca3b7caaa214b30d914bc0b6b5" id="r_a544623ca3b7caaa214b30d914bc0b6b5"><td class="memItemLeft" align="right" valign="top"><a id="a544623ca3b7caaa214b30d914bc0b6b5" name="a544623ca3b7caaa214b30d914bc0b6b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PCB_NAME_MAX_LEN</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a544623ca3b7caaa214b30d914bc0b6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646a65965be73f280a67b3194172f9a4" id="r_a646a65965be73f280a67b3194172f9a4"><td class="memItemLeft" align="right" valign="top"><a id="a646a65965be73f280a67b3194172f9a4" name="a646a65965be73f280a67b3194172f9a4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PCB_STACK_MIN_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a646a65965be73f280a67b3194172f9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aefe309d62b55b4d0be96f1a97fcbbadd" id="r_aefe309d62b55b4d0be96f1a97fcbbadd"><td class="memItemLeft" align="right" valign="top"><a id="aefe309d62b55b4d0be96f1a97fcbbadd" name="aefe309d62b55b4d0be96f1a97fcbbadd"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>process_class</b> { <b>CLASS_SYSTEM</b> = 0
, <b>CLASS_USER</b> = 1
 }</td></tr>
<tr class="separator:aefe309d62b55b4d0be96f1a97fcbbadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebcddb379496eb593a170d10ec9f119b" id="r_aebcddb379496eb593a170d10ec9f119b"><td class="memItemLeft" align="right" valign="top"><a id="aebcddb379496eb593a170d10ec9f119b" name="aebcddb379496eb593a170d10ec9f119b"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>execution_state</b> { <b>STATE_READY</b> = 0
, <b>STATE_RUNNING</b> = 1
, <b>STATE_BLOCKED</b> = 2
 }</td></tr>
<tr class="separator:aebcddb379496eb593a170d10ec9f119b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947ba0b1ddc9a8d0f1d2c12a529407da" id="r_a947ba0b1ddc9a8d0f1d2c12a529407da"><td class="memItemLeft" align="right" valign="top"><a id="a947ba0b1ddc9a8d0f1d2c12a529407da" name="a947ba0b1ddc9a8d0f1d2c12a529407da"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>dispatch_state</b> { <b>DISPATCH_ACTIVE</b> = 0
, <b>DISPATCH_SUSPENDED</b> = 1
 }</td></tr>
<tr class="separator:a947ba0b1ddc9a8d0f1d2c12a529407da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a80553c8dded594ab7569e188bca498f9" id="r_a80553c8dded594ab7569e188bca498f9"><td class="memItemLeft" align="right" valign="top"><a id="a80553c8dded594ab7569e188bca498f9" name="a80553c8dded594ab7569e188bca498f9"></a>
struct <a class="el" href="structpcb.html">pcb</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pcb_allocate</b> (void)</td></tr>
<tr class="separator:a80553c8dded594ab7569e188bca498f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b24eae891bc2b3e01afb26fa75fca4b" id="r_a9b24eae891bc2b3e01afb26fa75fca4b"><td class="memItemLeft" align="right" valign="top"><a id="a9b24eae891bc2b3e01afb26fa75fca4b" name="a9b24eae891bc2b3e01afb26fa75fca4b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pcb_free</b> (struct <a class="el" href="structpcb.html">pcb</a> *ptr)</td></tr>
<tr class="separator:a9b24eae891bc2b3e01afb26fa75fca4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa590605368a9542a977982ba9da001a5" id="r_aa590605368a9542a977982ba9da001a5"><td class="memItemLeft" align="right" valign="top"><a id="aa590605368a9542a977982ba9da001a5" name="aa590605368a9542a977982ba9da001a5"></a>
struct <a class="el" href="structpcb.html">pcb</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pcb_setup</b> (const char *name, int process_class, int priority)</td></tr>
<tr class="separator:aa590605368a9542a977982ba9da001a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac390fe6b9b42d3420b0e38e85a290085" id="r_ac390fe6b9b42d3420b0e38e85a290085"><td class="memItemLeft" align="right" valign="top"><a id="ac390fe6b9b42d3420b0e38e85a290085" name="ac390fe6b9b42d3420b0e38e85a290085"></a>
struct <a class="el" href="structpcb.html">pcb</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pcb_find</b> (const char *name)</td></tr>
<tr class="separator:ac390fe6b9b42d3420b0e38e85a290085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d20bd921f9a3ba77cf1114018e1f36" id="r_a89d20bd921f9a3ba77cf1114018e1f36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcb_8h.html#a89d20bd921f9a3ba77cf1114018e1f36">pcb_insert</a> (struct <a class="el" href="structpcb.html">pcb</a> *ptr)</td></tr>
<tr class="memdesc:a89d20bd921f9a3ba77cf1114018e1f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a PCB into the appropriate queue.  <br /></td></tr>
<tr class="separator:a89d20bd921f9a3ba77cf1114018e1f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bc645af963fe3a08aafb20a8a114a7" id="r_a50bc645af963fe3a08aafb20a8a114a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcb_8h.html#a50bc645af963fe3a08aafb20a8a114a7">pcb_remove</a> (struct <a class="el" href="structpcb.html">pcb</a> *ptr)</td></tr>
<tr class="memdesc:a50bc645af963fe3a08aafb20a8a114a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a PCB from its current queue.  <br /></td></tr>
<tr class="separator:a50bc645af963fe3a08aafb20a8a114a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8ef412c491c81313233bdd2ab53475c5" id="r_a8ef412c491c81313233bdd2ab53475c5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structpcb__queue.html">pcb_queue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcb_8h.html#a8ef412c491c81313233bdd2ab53475c5">ready_queue</a></td></tr>
<tr class="separator:a8ef412c491c81313233bdd2ab53475c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c81d40d88993429517b21233e21673" id="r_a44c81d40d88993429517b21233e21673"><td class="memItemLeft" align="right" valign="top"><a id="a44c81d40d88993429517b21233e21673" name="a44c81d40d88993429517b21233e21673"></a>
struct <a class="el" href="structpcb__queue.html">pcb_queue</a>&#160;</td><td class="memItemRight" valign="bottom"><b>blocked_queue</b></td></tr>
<tr class="separator:a44c81d40d88993429517b21233e21673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ecb985470cac0c8196d79b539dba6e" id="r_a37ecb985470cac0c8196d79b539dba6e"><td class="memItemLeft" align="right" valign="top"><a id="a37ecb985470cac0c8196d79b539dba6e" name="a37ecb985470cac0c8196d79b539dba6e"></a>
struct <a class="el" href="structpcb__queue.html">pcb_queue</a>&#160;</td><td class="memItemRight" valign="bottom"><b>suspended_ready_queue</b></td></tr>
<tr class="separator:a37ecb985470cac0c8196d79b539dba6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01e64a9096e9e0fd9f125d948c048f6" id="r_ae01e64a9096e9e0fd9f125d948c048f6"><td class="memItemLeft" align="right" valign="top"><a id="ae01e64a9096e9e0fd9f125d948c048f6" name="ae01e64a9096e9e0fd9f125d948c048f6"></a>
struct <a class="el" href="structpcb__queue.html">pcb_queue</a>&#160;</td><td class="memItemRight" valign="bottom"><b>suspended_blocked_queue</b></td></tr>
<tr class="separator:ae01e64a9096e9e0fd9f125d948c048f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Process Control Block queue and stack functions. </p>
<p>Defines the data structure types and functions for operating the PCB queues.</p><ul>
<li>Ready Queue: PCBs waiting to be executed by priority.</li>
<li>Blocked Queue: PCBs waiting on something else to happen before its ready.</li>
<li>Suspended-Ready Queue: PCBs not in the stack but ready.</li>
<li>Suspended-Blocked Queue: PCBs not in the stack and blocked. </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a89d20bd921f9a3ba77cf1114018e1f36" name="a89d20bd921f9a3ba77cf1114018e1f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d20bd921f9a3ba77cf1114018e1f36">&#9670;&#160;</a></span>pcb_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcb_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpcb.html">pcb</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a PCB into the appropriate queue. </p>
<p>Chooses the correct queue based on the PCB's dispatch and execution state, then inserts it. If the target queue is the ready queue, PCBs are inserted by priority (FIFO within same priority). Otherwise, they are appended FIFO at the tail.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to the PCB to insert. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50bc645af963fe3a08aafb20a8a114a7" name="a50bc645af963fe3a08aafb20a8a114a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bc645af963fe3a08aafb20a8a114a7">&#9670;&#160;</a></span>pcb_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcb_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpcb.html">pcb</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a PCB from its current queue. </p>
<p>Locates the PCB's queue based on its state, then detaches it by fixing neighboring links. Clears the PCB's next/prev pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to the PCB to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 if PCB is NULL or not found in any queue. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8ef412c491c81313233bdd2ab53475c5" name="a8ef412c491c81313233bdd2ab53475c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef412c491c81313233bdd2ab53475c5">&#9670;&#160;</a></span>ready_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structpcb__queue.html">pcb_queue</a> ready_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>TODO Will add in error messaging at different points </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
