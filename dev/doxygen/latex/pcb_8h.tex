\doxysection{include/pcb.h File Reference}
\hypertarget{pcb_8h}{}\label{pcb_8h}\index{include/pcb.h@{include/pcb.h}}


Process Control Block queue and stack functions.  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
Include dependency graph for pcb.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpcb}{pcb}}
\item 
struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{pcb_8h_a544623ca3b7caaa214b30d914bc0b6b5}\label{pcb_8h_a544623ca3b7caaa214b30d914bc0b6b5} 
\#define {\bfseries PCB\+\_\+\+NAME\+\_\+\+MAX\+\_\+\+LEN}~16
\item 
\Hypertarget{pcb_8h_a646a65965be73f280a67b3194172f9a4}\label{pcb_8h_a646a65965be73f280a67b3194172f9a4} 
\#define {\bfseries PCB\+\_\+\+STACK\+\_\+\+MIN\+\_\+\+SIZE}~1024
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{pcb_8h_aefe309d62b55b4d0be96f1a97fcbbadd}\label{pcb_8h_aefe309d62b55b4d0be96f1a97fcbbadd} 
enum {\bfseries process\+\_\+class} \{ {\bfseries CLASS\+\_\+\+SYSTEM} = 0
, {\bfseries CLASS\+\_\+\+USER} = 1
 \}
\item 
\Hypertarget{pcb_8h_aebcddb379496eb593a170d10ec9f119b}\label{pcb_8h_aebcddb379496eb593a170d10ec9f119b} 
enum {\bfseries execution\+\_\+state} \{ {\bfseries STATE\+\_\+\+READY} = 0
, {\bfseries STATE\+\_\+\+RUNNING} = 1
, {\bfseries STATE\+\_\+\+BLOCKED} = 2
 \}
\item 
\Hypertarget{pcb_8h_a947ba0b1ddc9a8d0f1d2c12a529407da}\label{pcb_8h_a947ba0b1ddc9a8d0f1d2c12a529407da} 
enum {\bfseries dispatch\+\_\+state} \{ {\bfseries DISPATCH\+\_\+\+ACTIVE} = 0
, {\bfseries DISPATCH\+\_\+\+SUSPENDED} = 1
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{pcb_8h_a80553c8dded594ab7569e188bca498f9}\label{pcb_8h_a80553c8dded594ab7569e188bca498f9} 
struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*} {\bfseries pcb\+\_\+allocate} (void)
\item 
\Hypertarget{pcb_8h_a9b24eae891bc2b3e01afb26fa75fca4b}\label{pcb_8h_a9b24eae891bc2b3e01afb26fa75fca4b} 
int {\bfseries pcb\+\_\+free} (struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*}ptr)
\item 
\Hypertarget{pcb_8h_aa590605368a9542a977982ba9da001a5}\label{pcb_8h_aa590605368a9542a977982ba9da001a5} 
struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*} {\bfseries pcb\+\_\+setup} (const char \texorpdfstring{$\ast$}{*}name, int process\+\_\+class, int priority)
\item 
\Hypertarget{pcb_8h_ac390fe6b9b42d3420b0e38e85a290085}\label{pcb_8h_ac390fe6b9b42d3420b0e38e85a290085} 
struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*} {\bfseries pcb\+\_\+find} (const char \texorpdfstring{$\ast$}{*}name)
\item 
void \mbox{\hyperlink{pcb_8h_a89d20bd921f9a3ba77cf1114018e1f36}{pcb\+\_\+insert}} (struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Insert a PCB into the appropriate queue. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{pcb_8h_a50bc645af963fe3a08aafb20a8a114a7}{pcb\+\_\+remove}} (struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Remove a PCB from its current queue. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}} \mbox{\hyperlink{pcb_8h_a8ef412c491c81313233bdd2ab53475c5}{ready\+\_\+queue}}
\item 
\Hypertarget{pcb_8h_a44c81d40d88993429517b21233e21673}\label{pcb_8h_a44c81d40d88993429517b21233e21673} 
struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}} {\bfseries blocked\+\_\+queue}
\item 
\Hypertarget{pcb_8h_a37ecb985470cac0c8196d79b539dba6e}\label{pcb_8h_a37ecb985470cac0c8196d79b539dba6e} 
struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}} {\bfseries suspended\+\_\+ready\+\_\+queue}
\item 
\Hypertarget{pcb_8h_ae01e64a9096e9e0fd9f125d948c048f6}\label{pcb_8h_ae01e64a9096e9e0fd9f125d948c048f6} 
struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}} {\bfseries suspended\+\_\+blocked\+\_\+queue}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Process Control Block queue and stack functions. 

Defines the data structure types and functions for operating the PCB queues.
\begin{DoxyItemize}
\item Ready Queue\+: PCBs waiting to be executed by priority.
\item Blocked Queue\+: PCBs waiting on something else to happen before its ready.
\item Suspended-\/\+Ready Queue\+: PCBs not in the stack but ready.
\item Suspended-\/\+Blocked Queue\+: PCBs not in the stack and blocked. 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\Hypertarget{pcb_8h_a89d20bd921f9a3ba77cf1114018e1f36}\label{pcb_8h_a89d20bd921f9a3ba77cf1114018e1f36} 
\index{pcb.h@{pcb.h}!pcb\_insert@{pcb\_insert}}
\index{pcb\_insert@{pcb\_insert}!pcb.h@{pcb.h}}
\doxysubsubsection{\texorpdfstring{pcb\_insert()}{pcb\_insert()}}
{\footnotesize\ttfamily void pcb\+\_\+insert (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*}}]{ptr }\end{DoxyParamCaption})}



Insert a PCB into the appropriate queue. 

Chooses the correct queue based on the PCB\textquotesingle{}s dispatch and execution state, then inserts it. If the target queue is the ready queue, PCBs are inserted by priority (FIFO within same priority). Otherwise, they are appended FIFO at the tail.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to the PCB to insert. \\
\hline
\end{DoxyParams}
\Hypertarget{pcb_8h_a50bc645af963fe3a08aafb20a8a114a7}\label{pcb_8h_a50bc645af963fe3a08aafb20a8a114a7} 
\index{pcb.h@{pcb.h}!pcb\_remove@{pcb\_remove}}
\index{pcb\_remove@{pcb\_remove}!pcb.h@{pcb.h}}
\doxysubsubsection{\texorpdfstring{pcb\_remove()}{pcb\_remove()}}
{\footnotesize\ttfamily int pcb\+\_\+remove (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structpcb}{pcb}} \texorpdfstring{$\ast$}{*}}]{ptr }\end{DoxyParamCaption})}



Remove a PCB from its current queue. 

Locates the PCB\textquotesingle{}s queue based on its state, then detaches it by fixing neighboring links. Clears the PCB\textquotesingle{}s next/prev pointers.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to the PCB to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 if PCB is NULL or not found in any queue. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\Hypertarget{pcb_8h_a8ef412c491c81313233bdd2ab53475c5}\label{pcb_8h_a8ef412c491c81313233bdd2ab53475c5} 
\index{pcb.h@{pcb.h}!ready\_queue@{ready\_queue}}
\index{ready\_queue@{ready\_queue}!pcb.h@{pcb.h}}
\doxysubsubsection{\texorpdfstring{ready\_queue}{ready\_queue}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structpcb__queue}{pcb\+\_\+queue}} ready\+\_\+queue\hspace{0.3cm}{\ttfamily [extern]}}

TODO Will add in error messaging at different points 