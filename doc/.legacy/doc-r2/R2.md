# R2

## GOALS

- Establish Process Control Blocks (PCBs) for tracking and managing processes
- Emplace PCBs in queues to enable scheduling
- Implement commands for managing PCBs


## FIX ANY BUGS FROM R1

Fix any bugs from R1:
- [x] delete character in serial.c - @nat00008 
- [x] clock help command - @austindriggs 
- [x] clock leap year @DrZomboss123 
- [x] clock user has too much access to the kernel (see our grade from R1) - @DrZomboss123 
- [x] make error messages red (bonus) - @CEdwards04 and @nat00008 
- [x] call help commands on function error - @CEdwards04  and @nat00008 


## KERNEL LEVEL (everything is in `pcb.c`/`pcb.h`)


Process Control Block Implementations
- [x]  Set up pcb struct and process stack - @CEdwards04 
- [x]  Create process queues (Ready, Blocked, Suspended-Ready, Suspended-Blocked) - @Cedwards04

 
Kernel Functions to Implement for PCB:
- [x] `pcb.c` Create Allocate, Free, Setup, Find, Insert, Remove Functions @CEdwards04 

## USER LEVEL

General
- [x] `version.c`: update `version all` to hardcode R1 and call latest R2. - @austindriggs 
- [x] `comhand.c`: check for all the commands below by doing empty if statements - everyone
- [x] `help.c`: should call `<file_help()>` for everything below. - everyone

User Functions to Implement for PCB:
- [x] `init.c`: Create PCB, Delete PCB - @DrZomboss123 
- [x] `block.c`: Block PCB, Unblock PCB - @DrZomboss123 
- [x] `ready.c`: Suspend PCB, Resume PCB - @austindriggs 
- [x] `priority.c`: Set PCB Priority - @nat00008 
- [x] `show.c`: Show PCB, Show Ready Tasks, Show Blocked Tasks, Show All Tasks - @nat00008 


## BONUS OPPORTUNITIES

### EARLY SUBMISSION  BONUS

For Modules R2 through R6, Early Submission Bonus will apply as follows:
- The submission must receive a base score of at least 90 to be eligible
- Eligible submissions received between 24 and 48 hours before the due date will receive 1 bonus point
- Eligible submissions received between 48 and 72 hours before the due date will receive 3 bonus points
- Eligible submissions received more than 72 hours before the due date will receive 5 bonus points


### THESE FEATURES ARE OPTIONAL

Description: The following bonus add-ons to the MPX Project will expand both the aesthetics and functionality of your system. Each are worth 5 points, however, your group can only earn up to 20 points of bonus via these add-ons. Thus, you will receive bonus points for the first 4 add-ons you implement. Feel free, however, to implement as many as you want. You can, however, implement them at any time throughout the remainder of the semester. Their implementation will be evaluated during the final module evaluation.  

Current Bonus Add-ons:  
1. [x] Unique and Creative Start-up – To receive this add-on’s bonus points, your team must create a unique start-up sequence that will be displayed before the user enters the first command. This can be an interesting graphic or your group logo. Obviously, the abilities of our system are limited, but try to come up with something unique to your group’s Company name/System name. Have fun with this!  - @austindriggs 
2. [x] Variable Text Color – In a similar way to how you can implement the special keys in the terminal (delete, backspace, etc), there is also a way you can change the color of the text you are printing. You can receive this add-on’s points by having text printed out in a variety of colors. Perhaps have your error statements in a different color than the success output. Perhaps you have a variety of different colors in your Start-up display. Like the previous add-on, get creative and have fun with this. There is a wide assortment of things you can do with this.  @CEdwards04 and everyone
3. [ ] Command History – At the moment, there is no functionality given to the up and down arrows. This add-on will give them something to do: Iterate through Command History. As you probably have figured out by now, while inside a UNIX terminal, you can use the arrow keys to populate the new line with a previously entered command. To complete this add-on, you must emulate that functionality. You will need to create a way to store previously entered commands in the proper order, have a way to iterate through them in both directions (up and down), and be able to populate the current line with the command from history. I recommend playing around with the UNIX terminal if you are having trouble understanding the functionality I explained above. Also limit the history to the last 5 commands issued in comhand
4. [x] Clear – This bonus will involve creating a new command for the user. The “Clear” or “clear” command should simply blank the terminal, where the top of terminal is a new line for the user to enter their next command. This functionality may prove useful for other features (both bonus and required) in the future. If you have a menu interface, redisplay your menu  - @CEdwards04 
5. [ ] Additional load commands: create a unique load command for EACH of your R3 test processes, which will load them into a ready suspended state, so they will only dispatch when I manually resume them. Also allow me to set the priority of the process I load


## DOCUMENTATION

Documentation:
- [x] Add doxygen to all header files - everyone
- [x] Regenerate the programmer guide - @austindriggs 
- [x] Regenerate user guide - @CEdwards04 
- [x] Add to R2 column in contributions file. - everyone
- [x] Code review the wednesday before submission - everyone
- [x] remember to list the bonus features that we did (see above)

# DELIVERABLE

R2 is due Friday 10/3 by 8am. ONLY 1 team member need submit your code for the entire group. Your MUST create a tag and release to freeze the existing R2 code for me to access and then you can continue development of R3

Create a tag:
```
  git tag R2
  git push --tags
```

Automate the release process on Github:
- Navigate to the main page of the repository on GitHub.com.
- To the right of the list of files, click Releases.
- Click Draft a new release.
- Click Choose a tag, type a version number for your release, and press Enter. Alternatively, select an existing tag.
- If you are creating a new tag, click Create new tag

Remember to place a PDF of your user's manual and programmer's manual in the documents folder of your project.

You will submit the Link to your release and list all bonus objectives done, which I will download and grade.

Grading is based on how well and completely you implement your interface, polling, and the basic commands



# COMMENTS


@austindriggs
> @CEdwards04 I have that this is due friday 10/3 at 8am on my calendar. I put the "Milestone" on github as due on 10/2 (see on the right side under assignees and stuff).

@austindriggs
> I'm mostly done with my stuff. I can either start to do some bonus stuff or try to just improve other things (quality of life stuff like the programmer guide), or if anyone needs help let me know.


@CEdwards04
> Show function does not show suspendedReady queue or suspendedBlocked queue so when we suspend a task it disappears unless you remember the name and resume it.
> 
> Resume and Suspend work, but we need to format the text better with newline characters. Fixed in e7477c6 (from Austin since I cant comment)

@austindriggs
> @CEdwards04 @nat00008 @DrZomboss123 from now on, put brackets around the argument **VALUES** in the help messages.  This is because I don't want the user to think `priority set name priority` is a valid command; it should be `priority set proc_example 5`.   Call the `help` command to see everything I fixed.  
> 
> Here's an example:
> 
> Before:
> ```bash
> priority set [name|help] [priority]
>   priority set name priority    sets the priority of a process to an integer priority value
>   priority help                     prints this message
> ```
> 
> After:
> ```bash
> priority set [<name>|help] [<priority>]
>   priority set <name> <priority>    sets the priority of a process to an integer priority value
>   priority help                     prints this message
> ```

@austindriggs
> @CEdwards04 @nat00008 @DrZomboss123 
> 
> For the next modules, let's try not to do:
> ```bash
> sys_req(WRITE, COM1, "hello world", <HARDCODED_INTEGER>);
> ```
> 
> A better thing that's less prone to errors and more maintanable would be:
> ```bash
> char *my_string = "hello world";
> sys_req(WRITE, COM1, my_string, strlen(my_string));
> ```
